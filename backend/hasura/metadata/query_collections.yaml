- name: allowed-queries
  definition:
    queries:
    - name: FetchTasks
      query: |-
        query FetchTasks {
          tasks {
            id
            name
            description
            created_at
            updated_at
          }
        }
    - name: AddTask
      query: |-
        mutation AddTask($name: String!, $description: String!) {
          insert_tasks_one(object: {name: $name, description: $description}) {
            id
            name
            description
            created_at
            updated_at
          }
        }
    - name: FetchTask
      query: |-
        query FetchTask($taskId: Int!) {
          tasks_by_pk(id: $taskId) {
            id
            name
            description
            created_at
            updated_at
          }
        }
    - name: UpdateTask
      query: |-
        mutation UpdateTask($taskId: Int!, $name: String!, $description: String!) {
          update_tasks_by_pk(pk_columns: {id: $taskId}, _set: {name: $name, description: $description}) {
            id
            name
            description
            created_at
            updated_at
          }
        }
    - name: DeleteTask
      query: |-
        mutation DeleteTask($taskId: Int!) {
          delete_tasks_by_pk(id: $taskId) {
            id
          }
        }
